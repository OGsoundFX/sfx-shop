<%= render "shared/left_pannel_mobile"%>
<div class="padding-navbar content admin-min-height bg-dark">
  <%= render "welcome_banner" %>
  <div class="container">
    <%= render "designer_menu" %>
    <div class="designer-dashboard__container" data-controller="update-info">
      <div class="designer-dashboard__user-profile">
        <div class="d-flex justify-content-between">
          <div>
            <p class="designer-dashboard__label">Profile Information</p>
          </div>
          <div data-action="click->update-info#toggleEdit">
            <i class="fas fa-pen"></i>
          </div>
        </div>
        <hr style="margin-top: 0">
        <div class="designer-dashboard__info" data-update-info-target="data">
          <p><span>Name:</span> <%= @designer.first_name %> <%= @designer.last_name %></p>
          <p><span>Location:</span> <%= @designer.location %></p>
          <hr style="margin-top: 0">
          <div><span>Email:</span> <%= @designer.user.email %></div>
        </div>
        <div class="d-none" data-update-info-target="form">
          <%= simple_form_for @designer, url: update_designer_info_path(@designer), method: :post do |f| %>
            <%= f.input :first_name, label: "First Name", placeholder: @designer.first_name ? @designer.first_name : "Enter your first name" %>
            <%= f.input :last_name, label: "Last Name", placeholder: @designer.last_name ? @designer.last_name : "Enter your last name" %>
            <%= f.input :location, label: "Location", placeholder: @designer.location ? @designer.location : "Enter your location" %>
            <%= f.submit "Submit", class: "btn designer-dashboard__btn-form w-100 mt-3" %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="designer-dashboard__container mt-3" data-controller="update-info">
      <div class="designer-dashboard__user-profile">
        <div class="d-flex justify-content-between">
          <div>
            <p class="designer-dashboard__label">Paypal Account</p>
          </div>
          <div data-action="click->update-info#toggleEdit">
            <i class="fas fa-pen"></i>
          </div>
        </div>
        <hr style="margin-top: 0">
        <% if @paypal.paypal_account.present? %>
          <div class="d-flex justify-content-between" data-update-info-target="data">
            <div>
              <span class="designer-dashboard__paypal-account"><%= @paypal.paypal_account %></span>
            </div>
            <div>
              <% if @paypal.pending_verif? %>
                <div class="btn me-2 btn-admin designer-dashboard__paypal-pending">Pending</div>
              <% elsif @paypal.active? %>
                <div class="btn me-2 btn-admin designer-dashboard__paypal-active">Active</div>
              <% elsif @paypal.inactive? %>
                <div class="btn me-2 btn-admin designer-dashboard__paypal-inactive">Inactive</div>
              <% end %>
            </div>
          </div>
        <% else %>
          <p data-update-info-target="data">Please add your paypal account, so we can proceed to sending you payments.</p>
        <% end %>
        <div class="d-none" data-update-info-target="form">
          <%= simple_form_for @paypal, url: paypal_account_path(@designer), method: :post do |f| %>
            <%= f.input :paypal_account, label: "Please enter your Paypal account", placeholder: @paypal ? @paypal.paypal_account : "Enter your PayPal account" %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="designer-dashboard__container mt-3" data-controller="update-info">
      <div class="designer-dashboard__user-profile">
        <div class="d-flex justify-content-between">
          <div>
            <p class="designer-dashboard__label">About you</p>
          </div>
          <div data-action="click->update-info#toggleEdit">
            <i class="fas fa-pen"></i>
          </div>
        </div>
        <hr style="margin-top: 0">
        <div data-update-info-target="data">
          <% if @designer.bio.present? %>
            <span><%= @designer.bio %></span>
          <% else %>
            <p>Tell the World about yourself</p>
          <% end %>
        </div>
        <div class="d-none" data-update-info-target="form">
          <%= simple_form_for @designer, url: update_designer_bio_path(@designer), method: :post do |f| %>
            <%= f.input :bio, as: :text, label: "Your Bio", placeholder: @designer.bio ? @designer.bio : "Tell the World about yourself" %>
            <%= f.submit "Submit", class: "btn designer-dashboard__btn-form w-100 mt-3" %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-end">
      <a href="mailto: support@bamsfx.com" target="blank" class="btn btn-secondary mt-3 mb-3" style="padding: 10px 8px">Write to Support</a>
    </div>
  </div>
</div>

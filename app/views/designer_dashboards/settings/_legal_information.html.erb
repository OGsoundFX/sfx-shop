<div class="designer-dashboard__container mt-3" data-controller="update-info">
  <div class="designer-dashboard__user-profile">
    <div class="d-flex justify-content-between">
      <div class="d-flex me-3">
        <div>
          <p class="designer-dashboard__label me-3">Legal Information</p>
        </div>
        <% if @legal_entity.accepted? %>
          <div class="designer-dashboard__label">
            <i class="fas fa-check-circle approved-icon"></i>
          </div>
        <% end %>
      </div>
      <div class="d-flex justify-content-end mb-2">
        <% if @legal_entity.pending? %>
          <div class="btn btn-admin designer-dashboard__paypal-pending">Pending Verification</div>
        <% elsif @legal_entity.accepted? %>
          <div class="designer-dashboard__edit-icon" data-action="click->update-info#toggleEdit">
            <i class="fas fa-pen"></i>
          </div>
        <% elsif @legal_entity.incomplete? %>
          <div class="btn btn-warning designer-dashboard__paypal-inactive">Incomplete</div>
        <% elsif @legal_entity.rejected? %>
          <div class="btn btn-danger designer-dashboard__paypal-no-account">Rejected</div>
        <% end %>
      </div>
    </div>
    <hr style="margin-top: 0">

    <div data-update-info-target="data">
      <div class="designer-dashboard__settings-grid mb-2">
        <span>Full legal name:</span>
        <em><span class="info-color"><%= @legal_entity.legal_name %></span></em>
      </div>

      <% if @legal_entity.company_name? %>        
        <div class="designer-dashboard__settings-grid mb-2">
          <span>Company:</span>
          <em><span class="info-color"><%= @legal_entity.company_name %></span></em>
      </div>
      <% end %>

      <div class="designer-dashboard__settings-grid mb-2">
        <span>Address:</span>
        <em><pre class="info-color"><%= @legal_entity.address %></pre></em>
      </div>
      <hr>

      <div class="designer-dashboard__settings-grid mb-2">
        <span>Seller Agreement:</span>
        <% if !@legal_entity.agreement_acceptances.present? %>
          <%= link_to seller_agreement_path(@designer) do %>
            <div class="btn me-2 btn-admin-active">Review Seller Agreement</div>
          <% end %>
        <% elsif @paypal.active? %>
          <a href="mailto: support@bamsfx.com?subject=Request Paypal Modification" target="blank" class="btn btn-dark">Request Modification</a>
        <% elsif @paypal.inactive? %>
          <div class="btn me-2 btn-admin designer-dashboard__paypal-inactive">Suspended</div>
        <% else %>
          <div class="btn btn-danger designer-dashboard__paypal-no-account">No Payment Infos</div>
        <% end %>
      </div>
    </div>

    <div class="d-none" data-update-info-target="form">
      <%= render "legal_entities/legal_entity_form" %>
    </div>
  </div>
</div>